Introduction to Virtualization
==============================

If you are using Linux, there is a good chance that the first distribution you try will not be your last. Practically everyone experiments with more than one distro, and it is quite likely, if you are an enthusiast, that you will probably try several of the most popular distros, such as Debian, Ubuntu, Mint, Fedora, Arch, or openSUSE. In addition, even after you've settled on a *distro*, you may decide one day that your current desktop environment no longer passes muster. In which case, *on top of* the previous Debian/Ubuntu/Mint/Fedora/Arch/openSUSE check, you will now decide from among the supported candidates whether you would like to use GNOME, KDE, Cinnamon, MATE, Xfce, Pantheon, Budgie, i3, etc. The decision can be jarring. 

If you would like to experiment with different distros, different desktops, or even a different operating system altogether without wiping away your current installation, you may wish to look into desktop virtualization.  

# What is Virtualization

Virtualization is the process of creating an environment, or **virtual machine**, that is programmed to think it has been installed on a physical machine. Virtual machines typically run inside an isolated container, so that the software running inside the VM is unaware of anything outside of the container. Additionally, the operating system inside the virtual machine does not talk to the hardware directly, but instead talks to the hypervisor, which translates and communicates those system calls to the actual hardware. In this way, you could have a computer running Linux, with a virtual machine inside it running Windows for the purpose of running Windows-specific applications.

# Reasons to use Virtualization

We have already covered a couple advantages of creating a virtual machine, but they are reiterated here.

- Expanded/extended support. Using a specific operating system in a virtual machine may allow you to run applications that would otherwise not run on your computer's native OS. Additionally, an application may exist for your operating system family, but not for your specific OS version. For example, you may have a 32-bit application that ran on Windows XP, but no longer runs on 64-bit systems Windows 7 and above. Creating a 32-bit Windows XP VM would allow you to continue running that application.

- Easy recovery. What you do in a virtual machine should have no effect on your host operating system because the VM's memory should be isolated from the host. If you want to play around with a new operating system, distro, or desktop, you could safely install it to a VM and try it out without fear of wrecking your host OS. When you are done with the VM, you can simply remove it. Additionally, most virtualization applications include an option to make system "snapshots" of the VM, so that you can make experimental changes to the virtual machine and safely roll it back to the snapshot if something goes wrong.

- Segmentation / Security - Expanding on the isolation theme from above, VM's should not be able to see the host system or other VM's. If you wish to try a particular application but are uneasy about what it might do to your system, you could always create a VM instead for the singular purpose of installing the application within that VM. Taken to an extreme, you could decide to segment most or all of your applications into specific VM's so that no application can corrupt your underlying OS, or see what any other application is doing. This is the line of thought which drives [Qubes OS](https://en.wikipedia.org/wiki/Qubes_OS), a Linux distribution where applications are grouped into "domains," and each domain runs in its own VM.

# Glossary of Terms

- **Virtual Machine (VM)** - A virtual machine refers to an isolated environment, typically generated by software, that attempts to emulate a piece of hardware. An example would be a Windows 7 virtual machine running inside a Linux operating system, or vice-versa.
- **Host operating system** - The host operating system refers to the operating system that is natively installed on the computer.
- **Guest operating system** - The guest operating system refers to the operating system that is installed inside of the virtual machine.
- **Hypervisor** - The hypervisor is the piece of software that manages the virtual machine. It is responsible for taking the requests from the virtual machine (which may be running on emulated hardware) and translating those to the actual hardware. In the Linux world, some of the popular hypervisors include KVM, QEMU, and Xen. On Windows computers, Hyper-V is the hypervisor included on Windows 8 Pro, Windows 10 Pro, and Windows Server.
- **Bare metal** - "Bare metal" refers to an operating system that has been natively installed on a machine, as opposed to within a virtual machine. The term is often used in the context of performance. Since an OS running in a virtual machine must necessarily run through the hypervisor and then to the native kernel, there is always some level of overhead and performance tax within the VM, however minuscule. Much discussion about virtualization software and hypervisors will center on how well an OS will run inside a given VM when compared against "bare metal" performance.

# Types of Hardware Virtualization

The term "virtualization" can have several different meanings depending on the type and level of virtualization. We discuss some of the types below.

## Full virtualization

If you are running an environment under full virtualization, the hardware exposed to the VM has been sufficiently abstracted that the environment within the guest VM can run on a completely separate stack from the host. This means different software, different OS, different hardware. Full virtualization is ideal when you want to run a guest OS based on a different architecture than the host (e.g. Linux on Windows, Windows on Mac, FreeBSD on Linux, etc).

## Operating-system-level virtualization

OS-level virtualization refers to a virtual machine that allows for a separate, isolated guest which nonetheless shares the same operating system and kernel as the host. This is useful if you want to run different applications to run under the same operating system, but don't want them to necessarily be able to see each other or anything else within that environment (possibly for security). Additionally, since the only thing being virtualized is the storage partitions (as opposed to the entire hardware and kernel stack), there is less overhead on running OS-level VM's. Examples of OS-level virtualization include FreeBSD Jails, LXC, and the ever-popular Docker container.

## For use with Korora ##

If you wish to either run a Korora VM or run a VM *within* Korora, we have three suggestions, listed below:
- virt-manager - Virtual Machine Manager is a Red Hat application that provides a graphical front-end to the libvirt library, which creates and manages virtual machines. Because virt-manager uses the KVM hypervisor, which has support built into the kernel, it is the preferred method of virtualization within Korora.  
- Boxes - Boxes is a graphical VM Manager included with GNOME. It shares much of the same code with virt-manager (as its [own website](https://wiki.gnome.org/Apps/Boxes) will tell you), but is aimed at getting a guest VM up and running with as little configuration required as possible. As a result, it is slightly more friendly to new users, but also lacks many of the more advanced tweaking features.
- VirtualBox - VirtualBox is a popular open source virtualization application that happens to be cross-platform, meaning you can use Virtualbox to run a Linux VM inside a Windows host, or a Windows VM inside a Linux host. Its popularity also means a high degree of compatibility, and a wider range of documentation available than other solutions. If you have previously used VirtualBox to test Linux while you were on Windows, you may choose to stay with Virtualbox once you have switched to Linux for familiarity's sake.